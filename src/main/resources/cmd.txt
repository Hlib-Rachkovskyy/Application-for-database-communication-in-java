pg_ctl stop -D "C:\Program Files\PostgreSQL\17\data"

-- Created by Vertabelo (http://vertabelo.com)
-- Last modification date: 2025-05-15 14:34:50.614

-- tables
-- Table: Person
CREATE TABLE Person (
    id int GENERATED ALWAYS AS IDENTITY PRIMARY KEY NOT NULL,
    Name varchar(100)  NOT NULL,
    CONSTRAINT Person_pk PRIMARY KEY (id)
);

-- Table: School
CREATE TABLE School (
    id int GENERATED ALWAYS AS IDENTITY PRIMARY KEY NOT NULL,
    Name varchar(100)  NOT NULL,
    CONSTRAINT School_pk PRIMARY KEY (id)
);

-- Table: Student
CREATE TABLE Student (
    Person_id int  NOT NULL,
    Klasa varchar(10)  NOT NULL,
    School_id int  NOT NULL,
    CONSTRAINT Student_pk PRIMARY KEY (Person_id)
);

-- foreign keys
-- Reference: Student_Person (table: Student)
ALTER TABLE Student ADD CONSTRAINT Student_Person
    FOREIGN KEY (Person_id)
    REFERENCES Person (id)
    NOT DEFERRABLE
    INITIALLY IMMEDIATE
;

-- Reference: Student_School (table: Student)
ALTER TABLE Student ADD CONSTRAINT Student_School
    FOREIGN KEY (School_id)
    REFERENCES School (id)
    NOT DEFERRABLE
    INITIALLY IMMEDIATE
;

-- End of file.

